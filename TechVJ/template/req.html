<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="https://i.ibb.co/0jqWZ0K/popcorn.png" type="image/x-icon">
    <meta property="og:image" content="https://i.ibb.co/0jqWZ0K/popcorn.png" itemprop="thumbnailUrl">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{file_name}} | MovieBox</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.9/plyr.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: #000 url('https://i.ibb.co/4W2hyKm/movie-bg.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            font-family: 'Arial', sans-serif;
        }
        .nav-glass {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }
        .card-glass {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
        }
        .card-glass:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
        }
        .btn-gold {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #000;
            font-weight: bold;
            border: none;
        }
        .btn-gold:hover {
            background: linear-gradient(45deg, #FFA500, #FFD700);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }
        .movie-title {
            font-family: 'Times New Roman', serif;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
            color: #FFD700;
        }
        .sidebar {
            background: rgba(0, 0, 0, 0.85);
            border-right: 1px solid rgba(255, 215, 0, 0.3);
        }
        .gold-border {
            border: 1px solid rgba(255, 215, 0, 0.5);
        }
        .player-container {
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <header>
        <!-- Movie Style Navbar -->
        <nav class="navbar nav-glass p-lg-3 p-2">
           <div class="d-flex w-full justify-between align-items-center">
             <!-- Sidebar Menu Button -->
             <button class="btn btn-gold rounded-circle animate__animated animate__fadeInLeft" 
                     type="button" data-bs-toggle="offcanvas" data-bs-target="#movieSidebar" 
                     aria-controls="movieSidebar">
                <i class="bi bi-list fs-5"></i>
            </button>
            
            <!-- Movie Logo Title -->
            <div class="text-center">
                <a class="navbar-brand movie-title fs-3 fw-bold" href="#">
                    <i class="bi bi-film"></i> MovieBox
                </a>
            </div>
            
            <!-- Empty div for balance -->
            <div style="width: 40px;"></div>
           </div>
        </nav>
        
        <!-- Movie Sidebar -->
        <div class="offcanvas offcanvas-start sidebar text-white" tabindex="-1" 
             id="movieSidebar" aria-labelledby="movieSidebarLabel">
            <div class="offcanvas-header">
                <div class="d-flex align-items-center">
                    <img src="https://i.ibb.co/0jqWZ0K/popcorn.png" width="50" height="50" 
                         class="me-2" alt="MovieBox">
                    <div>
                        <h5 class="offcanvas-title movie-title mb-0" id="movieSidebarLabel">MovieBox</h5>
                        <small class="text-warning">Your Cinema Paradise</small>
                    </div>
                </div>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            
            <div class="offcanvas-body">
                <div class="animate__animated animate__fadeInLeft mb-4">
                    <h4 class="movie-title"><i class="bi bi-collection-play"></i> Movie Categories</h4>
                </div>
                
                <div class="d-grid gap-2">
                    <a href="#" class="btn btn-outline-warning text-start animate__animated animate__fadeIn">
                        <i class="bi bi-film me-2"></i> Latest Releases
                    </a>
                    <a href="#" class="btn btn-outline-warning text-start">
                        <i class="bi bi-star-fill me-2"></i> Popular Movies
                    </a>
                    <a href="#" class="btn btn-outline-warning text-start">
                        <i class="bi bi-award me-2"></i> Classic Cinema
                    </a>
                    <a href="#" class="btn btn-outline-warning text-start">
                        <i class="bi bi-heart-fill me-2"></i> Romantic
                    </a>
                    <a href="#" class="btn btn-outline-warning text-start">
                        <i class="bi bi-lightning-fill me-2"></i> Action
                    </a>
                </div>
                
                <div class="mt-5 pt-3">
                    <h4 class="movie-title"><i class="bi bi-gear"></i> Settings</h4>
                    <div class="list-group list-group-flush mt-3">
                        <a href="#" class="list-group-item list-group-item-action bg-transparent text-white border-warning">
                            <i class="bi bi-moon-stars me-2"></i> Dark Mode
                        </a>
                        <a href="#" class="list-group-item list-group-item-action bg-transparent text-white border-warning">
                            <i class="bi bi-translate me-2"></i> Language
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Movie File Info -->
    <div class="bg-black bg-opacity-70 py-3 text-light">
        <div class="container text-center">
            <div id="file-name">
                <p class="fw-bold fs-5"> 
                    <span id="myDiv" class="animate__animated animate__fadeInRight movie-title">
                        {{file_name}}
                    </span>
                </p>
            </div>
        </div>
    </div>

    <!-- Main Movie Content -->
    <div class="container flex justify-center items-center px-4 py-5">
        <div class="w-full max-w-4xl">
            <!-- Video Player -->
            <div class="player-container mb-4 wow animate__animated animate__zoomIn">
                <video id="player" class="player w-full" playsinline controls>
                    <source src="{{file_url}}" type="video/mp4">
                </video>
            </div>
            
            <!-- Player Options -->
            <div class="card-glass p-4 mb-4">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-12">
                        <h4 class="movie-title mb-3 text-center"><i class="bi bi-play-circle"></i> Play With External Players</h4>
                        <div class="row g-2">
                            <div class="col-lg-3 col-6">
                                <div onclick="vlc_player()" class="card card-body bg-dark text-center align-items-center hover:shadow-md hover:shadow-yellow-400 hover:translate-y-[-3px] transition-all duration-300">
                                    <img src="https://i.ibb.co/7yVQZ0T/vlc-icon.png" width="40" class="mb-2">
                                    <small>VLC Player</small>
                                </div>
                            </div>
                            <div class="col-lg-3 col-6">
                                <div onclick="mx_player()" class="card card-body bg-dark text-center align-items-center hover:shadow-md hover:shadow-yellow-400 hover:translate-y-[-3px] transition-all duration-300">
                                    <img src="https://i.ibb.co/6FhJ5X0/mxplayer-icon.png" width="40" class="mb-2">
                                    <small>MX Player</small>
                                </div>
                            </div>
                            <div class="col-lg-3 col-6">
                                <div onclick="playit_player()" class="card card-body bg-dark text-center align-items-center hover:shadow-md hover:shadow-yellow-400 hover:translate-y-[-3px] transition-all duration-300">
                                    <img src="https://i.ibb.co/4W2hyKm/movie-bg.jpg" width="40" class="mb-2 rounded">
                                    <small>PlayIt</small>
                                </div>
                            </div>
                            <div class="col-lg-3 col-6">
                                <div onclick="km_player()" class="card card-body bg-dark text-center align-items-center hover:shadow-md hover:shadow-yellow-400 hover:translate-y-[-3px] transition-all duration-300">
                                    <img src="https://i.ibb.co/0jqWZ0K/popcorn.png" width="40" class="mb-2">
                                    <small>KM Player</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Download Section -->
            <div class="card-glass p-4 text-center animate__animated animate__rubberBand">
                <h3 class="movie-title mb-3"><i class="bi bi-cloud-arrow-down-fill"></i> Download Options</h3>
                <div class="row g-2">
                    <div class="col-lg-6">
                        <button onclick="Download()" class="btn btn-gold btn-lg w-100">
                            <i class="bi bi-download me-2"></i> Direct Download
                        </button>
                    </div>
                    <div class="col-lg-6">
                        <button onclick="hd_player()" class="btn btn-outline-warning btn-lg w-100">
                            <i class="bi bi-display me-2"></i> HD Player
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Notices -->
            <div class="mt-4">
                <div class="alert alert-warning text-center wow animate__animated animate__fadeIn">
                    <small>Video Not Playing? Your browser may not support the codec. Please try downloading.</small>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Movie Footer -->
    <footer class="bg-black bg-opacity-80 py-4">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 text-center">
                    <img src="https://i.ibb.co/0jqWZ0K/popcorn.png" width="60" class="mb-3" alt="MovieBox">
                    <h4 class="movie-title mb-3">MovieBox</h4>
                    <p class="text-light">Your ultimate movie destination</p>
                </div>
            </div>
            
            <div class="text-center mt-4 pt-3 border-top border-warning border-opacity-25">
                <p class="text-muted small">
                    © <script>document.write(new Date().getFullYear())</script> MovieBox - All Rights Reserved
                </p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.plyr.io/3.6.12/plyr.js"></script>
    <script>
        // Initialize video player
        const controls = [
            'play-large',
            'rewind',
            'play', 
            'fast-forward', 
            'progress', 
            'current-time',
            'duration',
            'mute',
            'volume',
            'captions',
            'settings',
            'pip',
            'airplay',
            'download',
            'fullscreen'
        ];
        
        document.addEventListener('DOMContentLoaded', () => {
            const player = Plyr.setup('.player', { controls });
            new WOW().init();
            
            // Truncate long file names
            var div = document.getElementById('myDiv');
            var text = div.textContent;
            if(text.length > 60) {
                div.textContent = text.slice(0, 60) + "...";
            }
        });

        // Disable right click
        document.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        });
        
        document.addEventListener('keydown', function (e) {
            if (
                e.key === 'F12' ||
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.key === 'u') ||
                e.ctrlKey ||
                e.shiftKey ||
                e.altKey
            ) {
                e.preventDefault();
            }
        });

        // Player functions
        const videolink = window.location.href;
        const Link = videolink.replace("/watch/", "/");

        function vlc_player() {
            const openLink = Link;
            const openVlc = `vlc://${openLink}`;
            window.location.href = openVlc;
        }
	    
        function mx_player() {
            const openLink = Link;
            const openMx = `intent:${openLink}#Intent;package=com.mxtech.videoplayer.ad;end`;
            window.location.href = openMx;
        }
        
        function playit_player() {
            const openLink = Link;
            const openPlayit = `playit://playerv2/video?url=${openLink}`;
            window.location.href = openPlayit;
        }
	    
        function s_player() {
            const openLink = Link;
            const openSplayer = `intent:${openLink}#Intent;action=com.young.simple.player.playback_online;package=com.young.simple.player;end`;
            window.location.href = openSplayer;
        }
	    
        function km_player() {
            const openLink = Link;
            const openKmplayer = `intent:${openLink}#Intent;package=com.kmplayer;end`;
            window.location.href = openKmplayer;
        }
        
        function hd_player() {
            const openLink = Link;
            const openHDplayer = `intent:${openLink}#Intent;package=uplayer.video.player;end`;
            window.location.href = openHDplayer;
        }
	    
        function Download() {
            const openLink = Link;
            window.location.href = openLink;
        }
    </script>
</body>
</html>
